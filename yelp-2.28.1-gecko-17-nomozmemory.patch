diff -up yelp-2.28.1/src/Makefile.am.nomozmemory yelp-2.28.1/src/Makefile.am
--- yelp-2.28.1/src/Makefile.am.nomozmemory	2009-11-19 18:09:56.000000000 +0100
+++ yelp-2.28.1/src/Makefile.am	2012-12-03 08:46:08.570688062 +0100
@@ -95,7 +95,7 @@ yelp_LDADD =				\
 	$(MOZILLA_EXTRA_LIBS)		\
 	$(MOZILLA_GLUE_LIBS)
 
-yelp_LDFLAGS = $(AM_LDFLAGS)
+yelp_LDFLAGS = $(AM_LDFLAGS) -Xlinker '--whole-archive -lmozglue -Wl,--no-whole-archive'
 
 if !HAVE_GECKO_XPCOM_GLUE
 yelp_LDFLAGS += -R$(MOZILLA_HOME)
